/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { FlexPriceCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope } from "./scopes.js";
import { createRegisterTool, registerDynamicTools } from "./tools.js";
import { tool$addonsDeleteAddonsId } from "./tools/addonsDeleteAddonsId.js";
import { tool$addonsGetAddons } from "./tools/addonsGetAddons.js";
import { tool$addonsGetAddonsId } from "./tools/addonsGetAddonsId.js";
import { tool$addonsGetAddonsLookupLookupKey } from "./tools/addonsGetAddonsLookupLookupKey.js";
import { tool$addonsPostAddons } from "./tools/addonsPostAddons.js";
import { tool$addonsPostAddonsSearch } from "./tools/addonsPostAddonsSearch.js";
import { tool$addonsPutAddonsId } from "./tools/addonsPutAddonsId.js";
import { tool$alertLogsPostAlertSearch } from "./tools/alertLogsPostAlertSearch.js";
import { tool$authPostAuthLogin } from "./tools/authPostAuthLogin.js";
import { tool$authPostAuthSignup } from "./tools/authPostAuthSignup.js";
import { tool$connectionsDeleteConnectionsId } from "./tools/connectionsDeleteConnectionsId.js";
import { tool$connectionsGetConnections } from "./tools/connectionsGetConnections.js";
import { tool$connectionsGetConnectionsId } from "./tools/connectionsGetConnectionsId.js";
import { tool$connectionsPostConnectionsSearch } from "./tools/connectionsPostConnectionsSearch.js";
import { tool$connectionsPutConnectionsId } from "./tools/connectionsPutConnectionsId.js";
import { tool$costsDeleteCostsId } from "./tools/costsDeleteCostsId.js";
import { tool$costsGetCostsActive } from "./tools/costsGetCostsActive.js";
import { tool$costsGetCostsId } from "./tools/costsGetCostsId.js";
import { tool$costsPostCosts } from "./tools/costsPostCosts.js";
import { tool$costsPostCostsAnalytics } from "./tools/costsPostCostsAnalytics.js";
import { tool$costsPostCostsAnalyticsV2 } from "./tools/costsPostCostsAnalyticsV2.js";
import { tool$costsPostCostsSearch } from "./tools/costsPostCostsSearch.js";
import { tool$costsPutCostsId } from "./tools/costsPutCostsId.js";
import { tool$couponsDeleteCouponsId } from "./tools/couponsDeleteCouponsId.js";
import { tool$couponsGetCoupons } from "./tools/couponsGetCoupons.js";
import { tool$couponsGetCouponsId } from "./tools/couponsGetCouponsId.js";
import { tool$couponsPostCoupons } from "./tools/couponsPostCoupons.js";
import { tool$couponsPutCouponsId } from "./tools/couponsPutCouponsId.js";
import { tool$creditGrantsDeleteCreditgrantsId } from "./tools/creditGrantsDeleteCreditgrantsId.js";
import { tool$creditGrantsGetCreditgrants } from "./tools/creditGrantsGetCreditgrants.js";
import { tool$creditGrantsGetCreditgrantsId } from "./tools/creditGrantsGetCreditgrantsId.js";
import { tool$creditGrantsGetPlansIdCreditgrants } from "./tools/creditGrantsGetPlansIdCreditgrants.js";
import { tool$creditGrantsPostCreditgrants } from "./tools/creditGrantsPostCreditgrants.js";
import { tool$creditGrantsPutCreditgrantsId } from "./tools/creditGrantsPutCreditgrantsId.js";
import { tool$creditNotesGetCreditnotes } from "./tools/creditNotesGetCreditnotes.js";
import { tool$creditNotesGetCreditnotesId } from "./tools/creditNotesGetCreditnotesId.js";
import { tool$creditNotesPostCreditnotes } from "./tools/creditNotesPostCreditnotes.js";
import { tool$creditNotesPostCreditnotesIdFinalize } from "./tools/creditNotesPostCreditnotesIdFinalize.js";
import { tool$creditNotesPostCreditnotesIdVoid } from "./tools/creditNotesPostCreditnotesIdVoid.js";
import { tool$customerPortalGetPortalExternalId } from "./tools/customerPortalGetPortalExternalId.js";
import { tool$customersDeleteCustomersId } from "./tools/customersDeleteCustomersId.js";
import { tool$customersGetCustomers } from "./tools/customersGetCustomers.js";
import { tool$customersGetCustomersExternalExternalId } from "./tools/customersGetCustomersExternalExternalId.js";
import { tool$customersGetCustomersId } from "./tools/customersGetCustomersId.js";
import { tool$customersGetCustomersIdEntitlements } from "./tools/customersGetCustomersIdEntitlements.js";
import { tool$customersGetCustomersIdGrantsUpcoming } from "./tools/customersGetCustomersIdGrantsUpcoming.js";
import { tool$customersGetCustomersUsage } from "./tools/customersGetCustomersUsage.js";
import { tool$customersPostCustomers } from "./tools/customersPostCustomers.js";
import { tool$customersPostCustomersSearch } from "./tools/customersPostCustomersSearch.js";
import { tool$customersPutCustomers } from "./tools/customersPutCustomers.js";
import { tool$entitlementsDeleteEntitlementsId } from "./tools/entitlementsDeleteEntitlementsId.js";
import { tool$entitlementsGetAddonsIdEntitlements } from "./tools/entitlementsGetAddonsIdEntitlements.js";
import { tool$entitlementsGetEntitlements } from "./tools/entitlementsGetEntitlements.js";
import { tool$entitlementsGetEntitlementsId } from "./tools/entitlementsGetEntitlementsId.js";
import { tool$entitlementsGetPlansIdEntitlements } from "./tools/entitlementsGetPlansIdEntitlements.js";
import { tool$entitlementsPostEntitlements } from "./tools/entitlementsPostEntitlements.js";
import { tool$entitlementsPostEntitlementsBulk } from "./tools/entitlementsPostEntitlementsBulk.js";
import { tool$entitlementsPostEntitlementsSearch } from "./tools/entitlementsPostEntitlementsSearch.js";
import { tool$entitlementsPutEntitlementsId } from "./tools/entitlementsPutEntitlementsId.js";
import { tool$entityIntegrationMappingsDeleteEntityIntegrationMappingsId } from "./tools/entityIntegrationMappingsDeleteEntityIntegrationMappingsId.js";
import { tool$entityIntegrationMappingsGetEntityIntegrationMappings } from "./tools/entityIntegrationMappingsGetEntityIntegrationMappings.js";
import { tool$entityIntegrationMappingsGetEntityIntegrationMappingsId } from "./tools/entityIntegrationMappingsGetEntityIntegrationMappingsId.js";
import { tool$entityIntegrationMappingsPostEntityIntegrationMappings } from "./tools/entityIntegrationMappingsPostEntityIntegrationMappings.js";
import { tool$environmentsGetEnvironments } from "./tools/environmentsGetEnvironments.js";
import { tool$environmentsGetEnvironmentsId } from "./tools/environmentsGetEnvironmentsId.js";
import { tool$environmentsPostEnvironments } from "./tools/environmentsPostEnvironments.js";
import { tool$environmentsPutEnvironmentsId } from "./tools/environmentsPutEnvironmentsId.js";
import { tool$eventsGetEventsId } from "./tools/eventsGetEventsId.js";
import { tool$eventsGetEventsMonitoring } from "./tools/eventsGetEventsMonitoring.js";
import { tool$eventsPostEvents } from "./tools/eventsPostEvents.js";
import { tool$eventsPostEventsAnalytics } from "./tools/eventsPostEventsAnalytics.js";
import { tool$eventsPostEventsBulk } from "./tools/eventsPostEventsBulk.js";
import { tool$eventsPostEventsHuggingfaceInference } from "./tools/eventsPostEventsHuggingfaceInference.js";
import { tool$eventsPostEventsQuery } from "./tools/eventsPostEventsQuery.js";
import { tool$eventsPostEventsUsage } from "./tools/eventsPostEventsUsage.js";
import { tool$eventsPostEventsUsageMeter } from "./tools/eventsPostEventsUsageMeter.js";
import { tool$featuresDeleteFeaturesId } from "./tools/featuresDeleteFeaturesId.js";
import { tool$featuresGetFeatures } from "./tools/featuresGetFeatures.js";
import { tool$featuresGetFeaturesId } from "./tools/featuresGetFeaturesId.js";
import { tool$featuresPostFeatures } from "./tools/featuresPostFeatures.js";
import { tool$featuresPostFeaturesSearch } from "./tools/featuresPostFeaturesSearch.js";
import { tool$featuresPutFeaturesId } from "./tools/featuresPutFeaturesId.js";
import { tool$groupsDeleteGroupsId } from "./tools/groupsDeleteGroupsId.js";
import { tool$groupsGetGroupsId } from "./tools/groupsGetGroupsId.js";
import { tool$groupsPostGroups } from "./tools/groupsPostGroups.js";
import { tool$groupsPostGroupsSearch } from "./tools/groupsPostGroupsSearch.js";
import { tool$integrationsDeleteSecretsIntegrationsId } from "./tools/integrationsDeleteSecretsIntegrationsId.js";
import { tool$integrationsGetSecretsIntegrationsByProviderProvider } from "./tools/integrationsGetSecretsIntegrationsByProviderProvider.js";
import { tool$integrationsGetSecretsIntegrationsLinked } from "./tools/integrationsGetSecretsIntegrationsLinked.js";
import { tool$integrationsPostSecretsIntegrationsCreateProvider } from "./tools/integrationsPostSecretsIntegrationsCreateProvider.js";
import { tool$invoicesGetCustomersIdInvoicesSummary } from "./tools/invoicesGetCustomersIdInvoicesSummary.js";
import { tool$invoicesGetInvoices } from "./tools/invoicesGetInvoices.js";
import { tool$invoicesGetInvoicesId } from "./tools/invoicesGetInvoicesId.js";
import { tool$invoicesGetInvoicesIdPdf } from "./tools/invoicesGetInvoicesIdPdf.js";
import { tool$invoicesPostInvoices } from "./tools/invoicesPostInvoices.js";
import { tool$invoicesPostInvoicesIdCommsTrigger } from "./tools/invoicesPostInvoicesIdCommsTrigger.js";
import { tool$invoicesPostInvoicesIdFinalize } from "./tools/invoicesPostInvoicesIdFinalize.js";
import { tool$invoicesPostInvoicesIdPaymentAttempt } from "./tools/invoicesPostInvoicesIdPaymentAttempt.js";
import { tool$invoicesPostInvoicesIdRecalculate } from "./tools/invoicesPostInvoicesIdRecalculate.js";
import { tool$invoicesPostInvoicesIdVoid } from "./tools/invoicesPostInvoicesIdVoid.js";
import { tool$invoicesPostInvoicesPreview } from "./tools/invoicesPostInvoicesPreview.js";
import { tool$invoicesPostInvoicesSearch } from "./tools/invoicesPostInvoicesSearch.js";
import { tool$invoicesPutInvoicesId } from "./tools/invoicesPutInvoicesId.js";
import { tool$invoicesPutInvoicesIdPayment } from "./tools/invoicesPutInvoicesIdPayment.js";
import { tool$paymentsDeletePaymentsId } from "./tools/paymentsDeletePaymentsId.js";
import { tool$paymentsGetPayments } from "./tools/paymentsGetPayments.js";
import { tool$paymentsGetPaymentsId } from "./tools/paymentsGetPaymentsId.js";
import { tool$paymentsPostPayments } from "./tools/paymentsPostPayments.js";
import { tool$paymentsPostPaymentsIdProcess } from "./tools/paymentsPostPaymentsIdProcess.js";
import { tool$paymentsPutPaymentsId } from "./tools/paymentsPutPaymentsId.js";
import { tool$plansDeletePlansId } from "./tools/plansDeletePlansId.js";
import { tool$plansGetPlans } from "./tools/plansGetPlans.js";
import { tool$plansGetPlansId } from "./tools/plansGetPlansId.js";
import { tool$plansPostPlans } from "./tools/plansPostPlans.js";
import { tool$plansPostPlansIdSyncSubscriptions } from "./tools/plansPostPlansIdSyncSubscriptions.js";
import { tool$plansPostPlansSearch } from "./tools/plansPostPlansSearch.js";
import { tool$plansPutPlansId } from "./tools/plansPutPlansId.js";
import { tool$pricesDeletePricesId } from "./tools/pricesDeletePricesId.js";
import { tool$pricesGetPrices } from "./tools/pricesGetPrices.js";
import { tool$pricesGetPricesId } from "./tools/pricesGetPricesId.js";
import { tool$pricesGetPricesLookupLookupKey } from "./tools/pricesGetPricesLookupLookupKey.js";
import { tool$pricesPostPrices } from "./tools/pricesPostPrices.js";
import { tool$pricesPostPricesBulk } from "./tools/pricesPostPricesBulk.js";
import { tool$pricesPutPricesId } from "./tools/pricesPutPricesId.js";
import { tool$priceUnitsDeletePricesUnitsId } from "./tools/priceUnitsDeletePricesUnitsId.js";
import { tool$priceUnitsGetPricesUnits } from "./tools/priceUnitsGetPricesUnits.js";
import { tool$priceUnitsGetPricesUnitsCodeCode } from "./tools/priceUnitsGetPricesUnitsCodeCode.js";
import { tool$priceUnitsGetPricesUnitsId } from "./tools/priceUnitsGetPricesUnitsId.js";
import { tool$priceUnitsPostPricesUnits } from "./tools/priceUnitsPostPricesUnits.js";
import { tool$priceUnitsPostPricesUnitsSearch } from "./tools/priceUnitsPostPricesUnitsSearch.js";
import { tool$priceUnitsPutPricesUnitsId } from "./tools/priceUnitsPutPricesUnitsId.js";
import { tool$rbacGetRBACRoles } from "./tools/rbacGetRBACRoles.js";
import { tool$rbacGetRBACRolesId } from "./tools/rbacGetRBACRolesId.js";
import { tool$scheduledTasksDeleteTasksScheduledId } from "./tools/scheduledTasksDeleteTasksScheduledId.js";
import { tool$scheduledTasksGetTasksScheduled } from "./tools/scheduledTasksGetTasksScheduled.js";
import { tool$scheduledTasksGetTasksScheduledId } from "./tools/scheduledTasksGetTasksScheduledId.js";
import { tool$scheduledTasksPostTasksScheduled } from "./tools/scheduledTasksPostTasksScheduled.js";
import { tool$scheduledTasksPostTasksScheduledIdRun } from "./tools/scheduledTasksPostTasksScheduledIdRun.js";
import { tool$scheduledTasksPostTasksScheduledScheduleUpdateBillingPeriod } from "./tools/scheduledTasksPostTasksScheduledScheduleUpdateBillingPeriod.js";
import { tool$scheduledTasksPutTasksScheduledId } from "./tools/scheduledTasksPutTasksScheduledId.js";
import { tool$secretsDeleteSecretsApiKeysId } from "./tools/secretsDeleteSecretsApiKeysId.js";
import { tool$secretsGetSecretsApiKeys } from "./tools/secretsGetSecretsApiKeys.js";
import { tool$secretsPostSecretsApiKeys } from "./tools/secretsPostSecretsApiKeys.js";
import { tool$subscriptionsDeleteSubscriptionsAddon } from "./tools/subscriptionsDeleteSubscriptionsAddon.js";
import { tool$subscriptionsDeleteSubscriptionsLineitemsId } from "./tools/subscriptionsDeleteSubscriptionsLineitemsId.js";
import { tool$subscriptionsGetSubscriptions } from "./tools/subscriptionsGetSubscriptions.js";
import { tool$subscriptionsGetSubscriptionsId } from "./tools/subscriptionsGetSubscriptionsId.js";
import { tool$subscriptionsGetSubscriptionsIdAddonsAssociations } from "./tools/subscriptionsGetSubscriptionsIdAddonsAssociations.js";
import { tool$subscriptionsGetSubscriptionsIdEntitlements } from "./tools/subscriptionsGetSubscriptionsIdEntitlements.js";
import { tool$subscriptionsGetSubscriptionsIdGrantsUpcoming } from "./tools/subscriptionsGetSubscriptionsIdGrantsUpcoming.js";
import { tool$subscriptionsGetSubscriptionsIdPauses } from "./tools/subscriptionsGetSubscriptionsIdPauses.js";
import { tool$subscriptionsGetSubscriptionsIdV2 } from "./tools/subscriptionsGetSubscriptionsIdV2.js";
import { tool$subscriptionsGetV1SubscriptionSchedules } from "./tools/subscriptionsGetV1SubscriptionSchedules.js";
import { tool$subscriptionsGetV1SubscriptionSchedulesId } from "./tools/subscriptionsGetV1SubscriptionSchedulesId.js";
import { tool$subscriptionsGetV1SubscriptionsSubscriptionIdSchedules } from "./tools/subscriptionsGetV1SubscriptionsSubscriptionIdSchedules.js";
import { tool$subscriptionsPostSubscriptions } from "./tools/subscriptionsPostSubscriptions.js";
import { tool$subscriptionsPostSubscriptionsAddon } from "./tools/subscriptionsPostSubscriptionsAddon.js";
import { tool$subscriptionsPostSubscriptionsIdActivate } from "./tools/subscriptionsPostSubscriptionsIdActivate.js";
import { tool$subscriptionsPostSubscriptionsIdCancel } from "./tools/subscriptionsPostSubscriptionsIdCancel.js";
import { tool$subscriptionsPostSubscriptionsIdChangeExecute } from "./tools/subscriptionsPostSubscriptionsIdChangeExecute.js";
import { tool$subscriptionsPostSubscriptionsIdChangePreview } from "./tools/subscriptionsPostSubscriptionsIdChangePreview.js";
import { tool$subscriptionsPostSubscriptionsIdPause } from "./tools/subscriptionsPostSubscriptionsIdPause.js";
import { tool$subscriptionsPostSubscriptionsIdResume } from "./tools/subscriptionsPostSubscriptionsIdResume.js";
import { tool$subscriptionsPostSubscriptionsSearch } from "./tools/subscriptionsPostSubscriptionsSearch.js";
import { tool$subscriptionsPostSubscriptionsUsage } from "./tools/subscriptionsPostSubscriptionsUsage.js";
import { tool$subscriptionsPostV1SubscriptionsSchedulesScheduleIdCancel } from "./tools/subscriptionsPostV1SubscriptionsSchedulesScheduleIdCancel.js";
import { tool$subscriptionsPutSubscriptionsLineitemsId } from "./tools/subscriptionsPutSubscriptionsLineitemsId.js";
import { tool$tasksGetTasks } from "./tools/tasksGetTasks.js";
import { tool$tasksGetTasksId } from "./tools/tasksGetTasksId.js";
import { tool$tasksGetTasksIdDownload } from "./tools/tasksGetTasksIdDownload.js";
import { tool$tasksGetTasksResult } from "./tools/tasksGetTasksResult.js";
import { tool$tasksPostTasks } from "./tools/tasksPostTasks.js";
import { tool$tasksPutTasksIdStatus } from "./tools/tasksPutTasksIdStatus.js";
import { tool$taxAssociationsDeleteTaxesAssociationsId } from "./tools/taxAssociationsDeleteTaxesAssociationsId.js";
import { tool$taxAssociationsGetTaxesAssociations } from "./tools/taxAssociationsGetTaxesAssociations.js";
import { tool$taxAssociationsGetTaxesAssociationsId } from "./tools/taxAssociationsGetTaxesAssociationsId.js";
import { tool$taxAssociationsPostTaxesAssociations } from "./tools/taxAssociationsPostTaxesAssociations.js";
import { tool$taxAssociationsPutTaxesAssociationsId } from "./tools/taxAssociationsPutTaxesAssociationsId.js";
import { tool$taxRatesDeleteTaxesRatesId } from "./tools/taxRatesDeleteTaxesRatesId.js";
import { tool$taxRatesGetTaxesRates } from "./tools/taxRatesGetTaxesRates.js";
import { tool$taxRatesGetTaxesRatesId } from "./tools/taxRatesGetTaxesRatesId.js";
import { tool$taxRatesPostTaxesRates } from "./tools/taxRatesPostTaxesRates.js";
import { tool$taxRatesPutTaxesRatesId } from "./tools/taxRatesPutTaxesRatesId.js";
import { tool$tenantsGetTenantBilling } from "./tools/tenantsGetTenantBilling.js";
import { tool$tenantsGetTenantsId } from "./tools/tenantsGetTenantsId.js";
import { tool$tenantsPostTenants } from "./tools/tenantsPostTenants.js";
import { tool$tenantsPutTenantsUpdate } from "./tools/tenantsPutTenantsUpdate.js";
import { tool$usersGetUsersMe } from "./tools/usersGetUsersMe.js";
import { tool$usersPostUsers } from "./tools/usersPostUsers.js";
import { tool$usersPostUsersSearch } from "./tools/usersPostUsersSearch.js";
import { tool$walletsGetCustomersIdWallets } from "./tools/walletsGetCustomersIdWallets.js";
import { tool$walletsGetCustomersWallets } from "./tools/walletsGetCustomersWallets.js";
import { tool$walletsGetWallets } from "./tools/walletsGetWallets.js";
import { tool$walletsGetWalletsId } from "./tools/walletsGetWalletsId.js";
import { tool$walletsGetWalletsIdBalanceRealTime } from "./tools/walletsGetWalletsIdBalanceRealTime.js";
import { tool$walletsGetWalletsIdTransactions } from "./tools/walletsGetWalletsIdTransactions.js";
import { tool$walletsPostWallets } from "./tools/walletsPostWallets.js";
import { tool$walletsPostWalletsIdTerminate } from "./tools/walletsPostWalletsIdTerminate.js";
import { tool$walletsPostWalletsIdTopUp } from "./tools/walletsPostWalletsIdTopUp.js";
import { tool$walletsPostWalletsSearch } from "./tools/walletsPostWalletsSearch.js";
import { tool$walletsPostWalletsTransactionsSearch } from "./tools/walletsPostWalletsTransactionsSearch.js";
import { tool$walletsPutWalletsId } from "./tools/walletsPutWalletsId.js";
import { tool$webhooksPostWebhooksChargebeeTenantIdEnvironmentId } from "./tools/webhooksPostWebhooksChargebeeTenantIdEnvironmentId.js";
import { tool$webhooksPostWebhooksHubspotTenantIdEnvironmentId } from "./tools/webhooksPostWebhooksHubspotTenantIdEnvironmentId.js";
import { tool$webhooksPostWebhooksNomodTenantIdEnvironmentId } from "./tools/webhooksPostWebhooksNomodTenantIdEnvironmentId.js";
import { tool$webhooksPostWebhooksQuickbooksTenantIdEnvironmentId } from "./tools/webhooksPostWebhooksQuickbooksTenantIdEnvironmentId.js";
import { tool$webhooksPostWebhooksRazorpayTenantIdEnvironmentId } from "./tools/webhooksPostWebhooksRazorpayTenantIdEnvironmentId.js";
import { tool$webhooksPostWebhooksStripeTenantIdEnvironmentId } from "./tools/webhooksPostWebhooksStripeTenantIdEnvironmentId.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  dynamic?: boolean | undefined;
  scopes?: MCPScope[] | undefined;
  getSDK?: () => FlexPriceCore;
  serverURL: string;
  security?: SDKOptions["security"] | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
}) {
  const server = new McpServer({
    name: "FlexPrice",
    version: "0.0.2",
  });

  const getClient = deps.getSDK || (() =>
    new FlexPriceCore({
      security: deps.security,
      serverURL: deps.serverURL,
      serverIdx: deps.serverIdx,
      debugLogger: deps.logger.level === "debug"
        ? {
          log: (...args) => console.log(...args),
          group: (...args) => console.group(...args),
          groupEnd: (...args) => console.groupEnd(...args),
        }
        : undefined,
    }));

  const scopes = new Set(deps.scopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const [tool, tools, toolMap] = createRegisterTool(
    deps.logger,
    server,
    getClient,
    scopes,
    allowedTools,
    deps.dynamic,
  );
  const resource = createRegisterResource(
    deps.logger,
    server,
    getClient,
    scopes,
  );
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    getClient,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, getClient, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$addonsGetAddons);
  tool(tool$addonsPostAddons);
  tool(tool$addonsGetAddonsLookupLookupKey);
  tool(tool$addonsPostAddonsSearch);
  tool(tool$addonsGetAddonsId);
  tool(tool$addonsPutAddonsId);
  tool(tool$addonsDeleteAddonsId);
  tool(tool$entitlementsGetAddonsIdEntitlements);
  tool(tool$entitlementsGetEntitlements);
  tool(tool$entitlementsPostEntitlements);
  tool(tool$entitlementsPostEntitlementsBulk);
  tool(tool$entitlementsPostEntitlementsSearch);
  tool(tool$entitlementsGetEntitlementsId);
  tool(tool$entitlementsPutEntitlementsId);
  tool(tool$entitlementsDeleteEntitlementsId);
  tool(tool$entitlementsGetPlansIdEntitlements);
  tool(tool$alertLogsPostAlertSearch);
  tool(tool$authPostAuthLogin);
  tool(tool$authPostAuthSignup);
  tool(tool$connectionsGetConnections);
  tool(tool$connectionsPostConnectionsSearch);
  tool(tool$connectionsGetConnectionsId);
  tool(tool$connectionsPutConnectionsId);
  tool(tool$connectionsDeleteConnectionsId);
  tool(tool$costsPostCosts);
  tool(tool$costsGetCostsActive);
  tool(tool$costsPostCostsAnalytics);
  tool(tool$costsPostCostsAnalyticsV2);
  tool(tool$costsPostCostsSearch);
  tool(tool$costsGetCostsId);
  tool(tool$costsPutCostsId);
  tool(tool$costsDeleteCostsId);
  tool(tool$couponsGetCoupons);
  tool(tool$couponsPostCoupons);
  tool(tool$couponsGetCouponsId);
  tool(tool$couponsPutCouponsId);
  tool(tool$couponsDeleteCouponsId);
  tool(tool$creditGrantsGetCreditgrants);
  tool(tool$creditGrantsPostCreditgrants);
  tool(tool$creditGrantsGetCreditgrantsId);
  tool(tool$creditGrantsPutCreditgrantsId);
  tool(tool$creditGrantsDeleteCreditgrantsId);
  tool(tool$creditGrantsGetPlansIdCreditgrants);
  tool(tool$creditNotesGetCreditnotes);
  tool(tool$creditNotesPostCreditnotes);
  tool(tool$creditNotesGetCreditnotesId);
  tool(tool$creditNotesPostCreditnotesIdFinalize);
  tool(tool$creditNotesPostCreditnotesIdVoid);
  tool(tool$customersGetCustomers);
  tool(tool$customersPutCustomers);
  tool(tool$customersPostCustomers);
  tool(tool$customersGetCustomersExternalExternalId);
  tool(tool$customersPostCustomersSearch);
  tool(tool$customersGetCustomersUsage);
  tool(tool$customersGetCustomersId);
  tool(tool$customersDeleteCustomersId);
  tool(tool$customersGetCustomersIdEntitlements);
  tool(tool$customersGetCustomersIdGrantsUpcoming);
  tool(tool$walletsGetCustomersWallets);
  tool(tool$walletsGetCustomersIdWallets);
  tool(tool$walletsGetWallets);
  tool(tool$walletsPostWallets);
  tool(tool$walletsPostWalletsSearch);
  tool(tool$walletsPostWalletsTransactionsSearch);
  tool(tool$walletsGetWalletsId);
  tool(tool$walletsPutWalletsId);
  tool(tool$walletsGetWalletsIdBalanceRealTime);
  tool(tool$walletsPostWalletsIdTerminate);
  tool(tool$walletsPostWalletsIdTopUp);
  tool(tool$walletsGetWalletsIdTransactions);
  tool(tool$invoicesGetCustomersIdInvoicesSummary);
  tool(tool$invoicesGetInvoices);
  tool(tool$invoicesPostInvoices);
  tool(tool$invoicesPostInvoicesPreview);
  tool(tool$invoicesPostInvoicesSearch);
  tool(tool$invoicesGetInvoicesId);
  tool(tool$invoicesPutInvoicesId);
  tool(tool$invoicesPostInvoicesIdCommsTrigger);
  tool(tool$invoicesPostInvoicesIdFinalize);
  tool(tool$invoicesPutInvoicesIdPayment);
  tool(tool$invoicesPostInvoicesIdPaymentAttempt);
  tool(tool$invoicesGetInvoicesIdPdf);
  tool(tool$invoicesPostInvoicesIdRecalculate);
  tool(tool$invoicesPostInvoicesIdVoid);
  tool(tool$entityIntegrationMappingsGetEntityIntegrationMappings);
  tool(tool$entityIntegrationMappingsPostEntityIntegrationMappings);
  tool(tool$entityIntegrationMappingsGetEntityIntegrationMappingsId);
  tool(tool$entityIntegrationMappingsDeleteEntityIntegrationMappingsId);
  tool(tool$environmentsGetEnvironments);
  tool(tool$environmentsPostEnvironments);
  tool(tool$environmentsGetEnvironmentsId);
  tool(tool$environmentsPutEnvironmentsId);
  tool(tool$eventsPostEvents);
  tool(tool$eventsPostEventsAnalytics);
  tool(tool$eventsPostEventsBulk);
  tool(tool$eventsPostEventsHuggingfaceInference);
  tool(tool$eventsGetEventsMonitoring);
  tool(tool$eventsPostEventsQuery);
  tool(tool$eventsPostEventsUsage);
  tool(tool$eventsPostEventsUsageMeter);
  tool(tool$eventsGetEventsId);
  tool(tool$featuresGetFeatures);
  tool(tool$featuresPostFeatures);
  tool(tool$featuresPostFeaturesSearch);
  tool(tool$featuresGetFeaturesId);
  tool(tool$featuresPutFeaturesId);
  tool(tool$featuresDeleteFeaturesId);
  tool(tool$groupsPostGroups);
  tool(tool$groupsPostGroupsSearch);
  tool(tool$groupsGetGroupsId);
  tool(tool$groupsDeleteGroupsId);
  tool(tool$paymentsGetPayments);
  tool(tool$paymentsPostPayments);
  tool(tool$paymentsGetPaymentsId);
  tool(tool$paymentsPutPaymentsId);
  tool(tool$paymentsDeletePaymentsId);
  tool(tool$paymentsPostPaymentsIdProcess);
  tool(tool$plansGetPlans);
  tool(tool$plansPostPlans);
  tool(tool$plansPostPlansSearch);
  tool(tool$plansGetPlansId);
  tool(tool$plansPutPlansId);
  tool(tool$plansDeletePlansId);
  tool(tool$plansPostPlansIdSyncSubscriptions);
  tool(tool$customerPortalGetPortalExternalId);
  tool(tool$pricesGetPrices);
  tool(tool$pricesPostPrices);
  tool(tool$pricesPostPricesBulk);
  tool(tool$pricesGetPricesLookupLookupKey);
  tool(tool$pricesGetPricesId);
  tool(tool$pricesPutPricesId);
  tool(tool$pricesDeletePricesId);
  tool(tool$priceUnitsGetPricesUnits);
  tool(tool$priceUnitsPostPricesUnits);
  tool(tool$priceUnitsGetPricesUnitsCodeCode);
  tool(tool$priceUnitsPostPricesUnitsSearch);
  tool(tool$priceUnitsGetPricesUnitsId);
  tool(tool$priceUnitsPutPricesUnitsId);
  tool(tool$priceUnitsDeletePricesUnitsId);
  tool(tool$rbacGetRBACRoles);
  tool(tool$rbacGetRBACRolesId);
  tool(tool$secretsGetSecretsApiKeys);
  tool(tool$secretsPostSecretsApiKeys);
  tool(tool$secretsDeleteSecretsApiKeysId);
  tool(tool$integrationsGetSecretsIntegrationsByProviderProvider);
  tool(tool$integrationsPostSecretsIntegrationsCreateProvider);
  tool(tool$integrationsGetSecretsIntegrationsLinked);
  tool(tool$integrationsDeleteSecretsIntegrationsId);
  tool(tool$subscriptionsGetSubscriptions);
  tool(tool$subscriptionsPostSubscriptions);
  tool(tool$subscriptionsPostSubscriptionsAddon);
  tool(tool$subscriptionsDeleteSubscriptionsAddon);
  tool(tool$subscriptionsPutSubscriptionsLineitemsId);
  tool(tool$subscriptionsDeleteSubscriptionsLineitemsId);
  tool(tool$subscriptionsPostSubscriptionsSearch);
  tool(tool$subscriptionsPostSubscriptionsUsage);
  tool(tool$subscriptionsGetSubscriptionsId);
  tool(tool$subscriptionsPostSubscriptionsIdActivate);
  tool(tool$subscriptionsGetSubscriptionsIdAddonsAssociations);
  tool(tool$subscriptionsPostSubscriptionsIdCancel);
  tool(tool$subscriptionsPostSubscriptionsIdChangeExecute);
  tool(tool$subscriptionsPostSubscriptionsIdChangePreview);
  tool(tool$subscriptionsGetSubscriptionsIdEntitlements);
  tool(tool$subscriptionsGetSubscriptionsIdGrantsUpcoming);
  tool(tool$subscriptionsPostSubscriptionsIdPause);
  tool(tool$subscriptionsGetSubscriptionsIdPauses);
  tool(tool$subscriptionsPostSubscriptionsIdResume);
  tool(tool$subscriptionsGetSubscriptionsIdV2);
  tool(tool$subscriptionsGetV1SubscriptionSchedules);
  tool(tool$subscriptionsGetV1SubscriptionSchedulesId);
  tool(tool$subscriptionsPostV1SubscriptionsSchedulesScheduleIdCancel);
  tool(tool$subscriptionsGetV1SubscriptionsSubscriptionIdSchedules);
  tool(tool$tasksGetTasks);
  tool(tool$tasksPostTasks);
  tool(tool$tasksGetTasksResult);
  tool(tool$tasksGetTasksId);
  tool(tool$tasksGetTasksIdDownload);
  tool(tool$tasksPutTasksIdStatus);
  tool(tool$scheduledTasksGetTasksScheduled);
  tool(tool$scheduledTasksPostTasksScheduled);
  tool(tool$scheduledTasksPostTasksScheduledScheduleUpdateBillingPeriod);
  tool(tool$scheduledTasksGetTasksScheduledId);
  tool(tool$scheduledTasksPutTasksScheduledId);
  tool(tool$scheduledTasksDeleteTasksScheduledId);
  tool(tool$scheduledTasksPostTasksScheduledIdRun);
  tool(tool$taxAssociationsGetTaxesAssociations);
  tool(tool$taxAssociationsPostTaxesAssociations);
  tool(tool$taxAssociationsGetTaxesAssociationsId);
  tool(tool$taxAssociationsPutTaxesAssociationsId);
  tool(tool$taxAssociationsDeleteTaxesAssociationsId);
  tool(tool$taxRatesGetTaxesRates);
  tool(tool$taxRatesPostTaxesRates);
  tool(tool$taxRatesGetTaxesRatesId);
  tool(tool$taxRatesPutTaxesRatesId);
  tool(tool$taxRatesDeleteTaxesRatesId);
  tool(tool$tenantsGetTenantBilling);
  tool(tool$tenantsPostTenants);
  tool(tool$tenantsPutTenantsUpdate);
  tool(tool$tenantsGetTenantsId);
  tool(tool$usersPostUsers);
  tool(tool$usersGetUsersMe);
  tool(tool$usersPostUsersSearch);
  tool(tool$webhooksPostWebhooksChargebeeTenantIdEnvironmentId);
  tool(tool$webhooksPostWebhooksHubspotTenantIdEnvironmentId);
  tool(tool$webhooksPostWebhooksNomodTenantIdEnvironmentId);
  tool(tool$webhooksPostWebhooksQuickbooksTenantIdEnvironmentId);
  tool(tool$webhooksPostWebhooksRazorpayTenantIdEnvironmentId);
  tool(tool$webhooksPostWebhooksStripeTenantIdEnvironmentId);

  if (deps.dynamic) {
    registerDynamicTools(deps.logger, server, getClient, toolMap, scopes);
  }

  return { server, tools };
}
